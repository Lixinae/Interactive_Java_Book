<?xml version="1.0" encoding="UTF-8"?>
<project name="Interactive_Java_Book" default="jar" basedir=".">
  <description>
    Build file for Interactive_Java_Book
  </description>
  	<!-- set global properties for this build -->
  	<property name="src" location="src"/>
  	<property name="build" location="classes"/>
  	<property name="dest" location="dest"/>
	<property name="lib" location="libs"/>


	<path id="classpath">
		<fileset dir="$(lib)" includes="**/*.jar"/>
	</path>

	<!-- Clean all the generated files -->
	<target name="clean" description="Removing the all generated files.">
		<delete dir="${build}"/>
		<delete dir="${dest}"/>
	</target>

	<!-- Cleans the folder and creates the necessary directorie -->
	<target name="prepare" depends="clean">
		<mkdir dir="${build}"/>
		<mkdir dir="${dest}"/>
		<mkdir dir="${src}"/>
	</target>

	<target name="compile" depends="prepare" description="Compilation of all source code.">
		<javac srcdir="${src}"
			   destdir="${build}"
			   fork = "true"
			   executable="~/jdk1.8.0_65/bin/javac"
			   taskname="javac1.8"
			   includeantruntime="false"
			   classpathref="classpath"
		/>
	</target>


	<target name="jar" depends="compile" description="Generates jshellbook.jar file in to the 'dest' directory.">
		<jar jarfile="${dest}/jshellbook.jar" basedir="${build}"/>
	</target>


</project>